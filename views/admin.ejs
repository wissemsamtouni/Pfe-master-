<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <title>Administration des utilisateurs</title>
</head>
<body>
  <nav style="background-color: rgb(44, 62, 80);" class="navbar navbar-expand-lg navbar-dark  mb-3">
    <br>
    <a style="color: white;" class="navbar-brand" href="#"><span style="color: darkgreen;">NEW</span>PASS</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div  class="collapse navbar-collapse" id="navbarColor02">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
        </li>        
      </ul>          
    </div>
    <a class="btn btn-sm btn-success" href="/logout">Se déconnecter</a>
  </nav>

  <h1>Administration des utilisateurs</h1>
  <table class="table table-hover">
    <thead class="table-dark">
      <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Adresse email</th>
        <th>Adresse</th>
        <th>Numéro de téléphone</th>
        <th>Rôle</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% users.forEach(function(user) { %>
        <tr>
          <td><%= user.nom %></td>
          <td><%= user.prenom %></td>
          <td><%= user.email %></td>
          <td><%= user.adresse %></td>
          <td><%= user.telephone %></td>
          <td><%= user.role %></td>
          <td>
            <a href="/admin/<%= user._id %>/update" class="btn btn-sm btn-success" >Modifier</i></a>
            <a href="/admin/<%= user._id %>/delete"  class="btn btn-sm btn-danger">Supprimer</a>
          </td>
        </tr>
      <% }); %>
    </tbody>
  </table>
  <div class="card">
    <div class="card-header">
      <h3>Ajouter un utilisateur</h3>
  <div class="card-body">
  <form  method="POST" action="/admin/create">
   <div class="row">
    <div class="col-6">
     <div class="form-group">
      <label class="col-form-label" for="nom">Nom :</label>
      <input type="text" class="form-control" name="nom" id="nom" required>
    </div>
    </div>
    
      <div class="col-6">
       <div class="form-group">
      <label class="col-form-label" for="prenom">Prénom :</label>
      <input   class="form-control" type="text" name="prenom" id="prenom" required>
    </div>
    </div>
    <div class="col-6">
      <div class="form-group">
      <label  class="col-form-label" for="email">Adresse email :</label>
      <input  class="form-control" type="email" name="email" id="email" required>
    </div>
    </div>
    <div class="col-6">
      <div class="form-group">
      <label  class="col-form-label" for="adresse">Adresse :</label>
      <input  class="form-control" type="text" name="adresse" id="adresse" required>
    </div>
    </div>
    <div class="col-6">
      <div class="form-group">
      <label  class="col-form-label" for="telephone">Numéro de téléphone :</label>
      <input  class="form-control" type="text" name="telephone" id="telephone" required>
    </div>
    </div>
    <div class="col-6">
      <div class="form-group">
      <label  class="col-form-label" for="role">Rôle :</label>
      <select  class="form-control" name="role" id="role">
        <option value="utilisateur">Utilisateur</option>
        <option value="admin">Administrateur</option>
      </select>
    </div>
    </div>
    <div class="col-6">
      <div class="form-group">
      <label  class="col-form-label" for="password">Mot de passe :</label>
      <input  class="form-control" type="password" name="password" id="password" required>
    </div>
    </div>
    </div>
    <br>
    <br>
    <div>
      <input style="background-color: #20c997;color: white;" class="btn btn-sm" type="submit" value="Ajouter">
    </div>

  </form>
</div>
    </div>
</body>
</html>